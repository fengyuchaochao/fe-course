<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>

    var a = 10;

    function fn () {
        console.log(this.a);
    }

    var obj = {
        a: 20
    };

    var f = fn.bind(obj);
    f(); //此时输出20

    // Function.prototype.bind2 = function (context, ...params) {
    //     var _this = this;
    //     var context = context || window;
    //     return function () {
    //         _this.apply(context, ...params);
    //     }
    // }
    //
    // var f2 = fn.bind2(obj);
    // f2();

    ﻿Function.prototype.bind2 = function () {
        var _this = this;
        var context = [].shift.call(arguments);
        var args = [].slice.call(arguments);
        return function () {
            _this.apply(context, args);
        }
    }

    var f2 = fn.bind2(obj);
    f2();

    //     ﻿if (!Function.prototype.mybind) {
    //         Function.prototype.mybind = function () {
    //             var _this = this;
    //             var context = [].shift.call(arguments);
    //             var args = [].slice.call(arguments);
    //             return function () {
    //                 _this.apply(context, args);
    //             }
    //         }
    //     }
    // ﻿   function func (a, b) {
    //         console.log(a, b);
    //     }
    //
    //     var func1 = func.bind(null, 'a', 'b');
    //     var func2 = func.mybind(null, 'a', 'b');
    //
    //     func1();
    //     func2();

</script>
</body>
</html>
